<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>yaplot: Easy 3D Modeller for X</title>
</head>

<BODY bgcolor=white>
<center><a href="samples/percfull.gif"><img src="samples/perc.gif"></a><br>
yaplotのサンプルイメージ. <br>
(3次元ボンドパーコレーションの視覚化。詳細画像は35kbytes)
</center>
<hr>
<ul>
  <li><a href="http://www.chem.nagoya-u.ac.jp/matto/yaplot/">In English</a>
  <li><IMG SRC="/imgsrc/new.gif"><a
      href="http://www.chem.nagoya-u.ac.jp/matto/japlot/">Java版yaplot</a>
      もあります。(注意：長い間更新していません)
</ul>
<hr>
<font color="white">yaplot mol3 xyzplot plot 3-D 3d three dimention wireframe wire frame</font>
<hr>
<center>
<h1>yaplot</h1>
(yet another plot in 3-D)
</center>
<ul>
  <LI><H2>yaplotとは？</H2>
      <h3>yaplotの特徴</h3>
      <ul>
	<li>シンプルな画面表示、直感的なキー操作とマウス操作
	<li>シンプルで汎用のデータ形式
	<li>容易にアニメーションを作成可能。
      </ul>
      yaplotは、計算機シミュレーションの結果を容易に可視化するための、
      3次元モデラです。3次元空間での直線、円、多角形などの単純な図形を
      組みあわせることによって、さまざまな情報をグラフィカルに表示し、
      実時間で回転させてみたり、時間変化をながめることができます。
      データ形式は単純かつ直感的で、ちょうどXYプロッタを扱うような感覚
      で3次元の画像を描くことができます。また、複数のファイルを同時に開いて同時にコントロールすることができます。時系列にそった多角的な情報を同時にながめるのに役立ちます。<br>
      yaplotの画像は、本格的なプレゼンテーションに使用できるほど美し
      いものではありませんが、日常的なデータ解析にはきっと役に立つこと
      でしょう。
  <li><h2>インストール</h2>
      現在、yaplotはgtkを使って書かれています。インストールする前にあらかじめ
	GTKをインストールしておいて下さい。
	まずソースコードを展開して下さい。
	unix系のOSでは、
<pre>
	    prompt% ./configure
	    prompt% make
</pre>
        でコンパイルができます。もしgtkがインストールされているはずな
のに、configureで失敗する場合は、
<pre>
	    prompt% aclocal
	    prompt% autoconf
	    prompt% ./configure
	    prompt% make
</pre>
を試してみて下さい。コンパイルができたら、
<pre>
	    prompt# make install
</pre>
でインストールされます。WindowsでCompileする場合は、Makefile.dosを編集
してから、makeをしてみて下さい。なお、Windows版では一部機能が制限され
ます。
      </ul>
  <li><h2>使い方</h2>
<pre>
      usage : yaplot [options] infile [infile ...]
        -e x,y,z        視点の座標を指定
        -l x,y,z        lookpointの座標を指定
        -u x,y,z        上方ベクトルの方向を指定
        -c filename     パレットファイルを指定
        -q n            キャッシュの大きさをnフレーム分に指定(default=1)
        -d              デバッグモード
        infile          コマンドファイル
</pre>
      キャッシュを大きくとると、ファイルの読み込み速度が向上する分メモ
      リを消費します。<p>

      DOS版では今のところすべてのオプションが認識されません。<p>
      
      yaplotにはレイヤの概念があります。標準ではレイヤは1から12までの
12枚あり、それぞれの表示/非表示をファンクションキーで制御できます。同一のデー
      タを様々な面から解析する場合に役立ちます。<p>

      コマンドファイル名に"-"を指定した場合には、標準入力からデータを
      読みこみます。ただし、標準入力から読みこむ場合には、アニメーショ
      ン表示することはできません。<p>

      コマンドファイルを複数指定すると、複数のウィンドウが表示されます。
      それぞれの窓の制御方法は同期モードと非同期モードがあります。非同
      期モードの窓に対してキー入力やマウス操作を行うと、その結果はその
      窓のみに反映されます。一方、同期モードの窓の対して行った操作は、
      非同期窓を含むすべての窓に反映されます。ただし、窓のサイズの変更
      と、拡大縮小だけは常に非同期で行われます。<p>

      同期モード、非同期モードの切り替えは"s"キーで行えます。デフォル
      トではすべての窓は同期モードになっています。また、非同期モードか
      ら同期モードの戻る場合には、その窓の視野描画情報はほかの同期モー
      ドの窓と同一に戻されます。<p>
      
      MakefileでRECORDオプションを追加してあると、録画機能が使えます。"r"キーを押すと、現在表示されているフレーム以降を次々にgifファイルに保存していきます。録画を停止するには、再度"r"を押すか、"q"(yaplotの終了)を押して下さい。ファイル名は、yaplotxx_yyyyy.gif(xxの部分がウィンドウの番号、yyyyyがフレーム番号)となります。<p>

	"u"(pUsh)を押すと、現在の視野情報をカレントディレクトリの
".yapviewstack"ファイルの末尾に追加します。また、"o"(pOp)を押すとカレ
ントディレクトリの".yapviewstack"ファイルの末尾行を読み込み、現在の視
野情報とします。"u"とくみあわせることで、異なるyaplotや、異なるwindow
の間で同じ視点を共有することができます。(DOS版では使えません)<p>

      コマンドファイルを指定しなかった場合には、ヘルプファイル
      /usr/local/matto/etc/yaplot/help.yapが表示されます。<p>
      
      パレットファイルを指定しなかった場合には、まずカレントディレクト
      リのyaplot.colをさがし、見付からなかった場合には、環境変数YAPLOTCOL
      の指すファイルを捜し、それでも見付からない場合にはホーム以下をさ
      がし、どうしても見付からない場合には
      /usr/local/matto/etc/yaplot/yaplot.colを読みこみます。なお、現在
のバージョンでは、コマンドファイル内で、"@"コマンドを使用してパレット
の内容を変更することができますので、パレットファイルは必須ではありません。<p>

      パッケージには、いくつかサンプルが添付されていますから、試してみ
      て下さい。

  <LI><H2>ユーザインターフェース</H2>
      マウスとキーで制御することができます。!が付いているコマンドにつ
いては、各キーボードコマンドの前に数字を入力すると、そのキーを繰り返し
押したのと同じ効果があります。例えば"2" "0" "N"と入力すると、毎秒20フ
レームの速度で自動アニメーションを行います。なお、"g"(指定フレームへジャ
ンプ)と"f"(レイヤの表示非表示切替)以外はすべて相対指定です。つまり、
"10N5P"は"5N"と同じく、順方向へ毎秒5フレームでアニメーションします。
数字を打ちそこねた場合は、ESCを押して下さい。
<p>

ウィンドウマネージャーによってはファンクションキーがのっとられて使えな
い場合などもありますが、そのような場合はshiftを押しながらファンクショ
ンを押すなどの方法でウィンドウマネージャーの機能を回避して下さい。<p>
      <dl>
	<dt>!上下矢印キー、"j"、"k"
	<dd>ピッチ回転(縦回転)。何度も押すとだんだん回転が速くなります。
	<dt>!左右矢印キー、"h"、"l"
	<dd>ヘッド回転(横回転)
	<dt>マウスの左ボタンを押しながらドラッグ
	<dd>即時回転
	<dt>Pauseまたは"!"
	<dd>回転を停止
	<dt>Tab
	<dd>回転する前の状態にもどす。
	<dt>!"*"と"/"
	<dd>ズームインとアウト(望遠と広角)
	<dt>!"["と"]"
	<dd>視野角を広げる/狭める
	<dt>"r"
	<dd>録画開始/終了
	<dt>"u"
	<dd>pUsh; 現在の視野情報をカレントディレクトリの".yapviewstack"ファイルの末尾に追加します。
	<dt>"o"
	<dd>pOp; カレントディレクトリの".yapviewstack"ファイルの末尾行を読み込み、現在の視野情報とします。
	<dt>!PageDownまたは"n"
	<dd>次のフレーム
	<dt>!PageUpまたは"p"
	<dd>前のフレーム
	<dt>!Shiftを押しながらPageDownまたは"n"
	<dd>毎秒nフレームで順方向にアニメーション
	<dt>!Shiftを押しながらPageUpまたは"p"
	<dd>毎秒nフレームで逆方向にアニメーション
	<dt>!(数字のあとに)"g"またはEnter
	<dd>指定のフレームにジャンプ。"g"を単独で押すと最初のフレーム
に、"G"を単独で押すと最後のフレームにジャンプします。
	<dt>SPACE
	<dd>すべての動作(回転とアニメーション)を停止
	<dt>"+" and "-"
	<dd>!表示品位の変更
	<dt>!InsertとDelete、または"("と")"
	<dd>線幅の変化の度合を変える。
	<dt>ファンクションキー、あるいは数字のあとに"F"
	<dd>各レイヤの表示/非表示をトグル
	<dt>"v"
	<dd>詳細情報の画面表示を制御
	<dt>"s"
	<dd>同期モード/非同期モードの切りかえ
	<dt>"q" or Break
	<dd>yaplotを終了
      </dl>
  <LI><H2>コマンドファイルフォーマット</H2>
      コマンドファイルの各行が一つのコマンドに対応します。行の最初に1
      文字のコマンド、そのあとにパラメータを列挙して下さい。コマンドと
      パラメータの間、パラメータとパラメータの間は1つ以上の空白で区切っ
      て下さい。パラメータは省略できません。
      <dl>
	<dt>r {radius}<dd>円、棒、環の半径を指定する。
	<dt>l {x} {y} {z} {x} {y} {z}<dd>線を描く。
	<dt>s {x} {y} {z} {x} {y} {z}<dd>棒(太さのある線)を描く。
	<dt>p {n} {x} {y} {z} {x} {y} {z} {x} {y} {z} ...<dd>n角形を描
	    く。
	<dt>c {x} {y} {z}<dd>円を描く。
	<dt>o {x} {y} {z}<dd>環マークを描く。
	<dt>3 {x} {y} {z}<dd>三角形マークを描く。
	<dt>4 {x} {y} {z}<dd>四角形マークを描く。
	<dt>5 {x} {y} {z}<dd>五角形マークを描く。
	<dt>6 {x} {y} {z}<dd>六角形マークを描く。
	<dt>t {x} {y} {z} {text....}<dd>文字列を描く。
	<dt>@ {palette}<dd>パレット番号を指定する。
	<dt>@ {palette} {r} {g} {b}<dd>パレット番号の色を変更する。
r,g,bはそれぞれ0..255の範囲の整数で指定する。
	<dt># {comment}<dd>コメント(無視されます)
	<dt>y {layer}<dd>レイヤを切り替えます(default layer=1)
	<dt>空行<dd>1フレームの終わりをあらわします。
      </dl>
  <LI><H2>パレットファイルフォーマット</H2>
      パレットファイルの各行には、各パレット番号の色彩を、赤、緑、青の
      強度(0から255)で記述します。最初の行がパレット番号0に対応します。
      0番から2番まのパレットは、yaplot自体も使用するので、それぞれ、黒、
      灰色、白にしておいたほうがいいでしょう。
  <li><h2>内部動作について</h2>
      yaplotは、ファイル読み込み時に、ハッシュ表を用いてコマンドファイ
      ルで指定された座標が縮退しているかどうかを調べ、同一の座標の座標
      変換計算を減らしています。このため、読みこみに少々余分な時間がか
      かりますが、ユーザは座標が縮退しているかどうかを心配する必要はあ
      りません。<p>

      キャッシュ戦略にはLRUを使用していますが、先読みは行っていません。
      このため、単に順方向/逆方向にアニメーション表示する場合にはあま
      りキャッシュは有効に働きません。すべてのフレームを読みこめるぐら
      い大きくキャッシュをとる場合、あるいは特定部分のみ繰り返し再生す
      るようなケースではキャッシュが有効に機能します。
  </UL>


<hr>
<address></address>
<!-- hhmts start -->
<!-- hhmts end -->
</body> </html>
